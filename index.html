<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ERP UI - Home</title>

  <style>
    :root{
      --blue:#1f6fb2;
      --blue2:#155a93;
      --bg:#f3f6f9;
      --line:#e3e7ee;
      --text:#111;
      --muted:#6b7280;
      --card:#fff;
      --shadow:0 10px 24px rgba(0,0,0,.10);
      font-family: system-ui, -apple-system, Segoe UI, Roboto, "Noto Sans KR", Arial, sans-serif;
    }
    *{ box-sizing:border-box; }
    body{ margin:0; background:var(--bg); color:var(--text); }

    /* ===== HEADER ===== */
    .topbar{
      position:fixed;
      top:0; left:0; right:0;
      height:58px;
      background:linear-gradient(180deg,var(--blue),var(--blue2));
      color:#fff;
      z-index:1000;
      box-shadow:0 6px 16px rgba(0,0,0,.18);
    }
    .topbar-inner{
      max-width:1200px;
      height:100%;
      margin:0 auto;
      padding:0 14px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
    }
    .brand{
      display:flex; align-items:center; gap:10px;
      font-weight:800; cursor:pointer; white-space:nowrap;
    }
    .brand .logo{
      width:28px; height:28px; border-radius:8px;
      background:rgba(255,255,255,.18);
      display:grid; place-items:center;
    }

    nav{ display:flex; gap:6px; }
    .nav-item{
      padding:0 12px;
      font-size:14px;
      font-weight:600;
      border-radius:10px;
      cursor:pointer;
    }
    .nav-item:hover{ background:rgba(255,255,255,.14); }

    .userbox{
      background:rgba(255,255,255,.16);
      border:1px solid rgba(255,255,255,.18);
      padding:6px 12px;
      border-radius:999px;
      font-size:13px;
    }

    /* ===== MAIN ===== */
    .app{
      max-width:1200px;
      margin:0 auto;
      padding:84px 14px 30px;
    }

    .panel{
      background:var(--card);
      border:1px solid var(--line);
      border-radius:16px;
      box-shadow:0 6px 18px rgba(0,0,0,.06);
      overflow:hidden;
    }
    .panel-head{
      padding:14px 16px;
      border-bottom:1px solid #eef1f4;
      display:flex;
      justify-content:space-between;
      align-items:center;
      gap:10px;
    }
    .panel-title{
      font-weight:900;
      font-size:16px;
    }
    .panel-sub{
      font-size:12px;
      color:var(--muted);
      font-weight:700;
    }

    .panel-body{
      padding:14px;
    }

    canvas{
      width:100%;
      height:360px;
      display:block;
    }
  </style>
</head>

<body>

<header class="topbar">
  <div class="topbar-inner">
    <div class="brand" onclick="location.href='index.html'">
      <div class="logo">◎</div>
      <div>ERP UI</div>
    </div>

    <nav>
      <div class="nav-item">정보관리</div>
      <div class="nav-item">매출관리</div>
      <div class="nav-item">매입마감</div>
      <div class="nav-item">통계</div>
    </nav>

    <div class="userbox">H.Q / 안현모</div>
  </div>
</header>

<main class="app">
  <section class="panel">
    <div class="panel-head">
      <div>
        <div class="panel-title">매출 추이 (최근 12개월)</div>
        <div class="panel-sub">샘플 데이터 · 홈 대시보드</div>
      </div>
    </div>

    <div class="panel-body">
      <canvas id="trendChart"></canvas>
    </div>
  </section>
</main>

<script>
  // ===== 샘플 데이터 =====
  const months = ["02","03","04","05","06","07","08","09","10","11","12","01"];
  const sales =  [68, 72, 70, 78, 81, 79, 88, 92, 95, 90, 98, 105]; 
  const target = [70, 70, 72, 75, 80, 82, 85, 90, 92, 95, 100, 102];

  function fitCanvasToCSS(canvas){
    const dpr = window.devicePixelRatio || 1;
    const rect = canvas.getBoundingClientRect();
    canvas.width  = Math.round(rect.width  * dpr);
    canvas.height = Math.round(rect.height * dpr);
    const ctx = canvas.getContext("2d");
    ctx.setTransform(dpr,0,0,dpr,0,0);
    return ctx;
  }

  function drawTrend(canvas, labels, seriesA, seriesB){
    const ctx = fitCanvasToCSS(canvas);
    const w = canvas.getBoundingClientRect().width;
    const h = canvas.getBoundingClientRect().height;

    const P = { l:46, r:16, t:14, b:34 };
    const cw = w - P.l - P.r;
    const ch = h - P.t - P.b;

    const all = seriesA.concat(seriesB);
    const minV = Math.min(...all) * 0.9;
    const maxV = Math.max(...all) * 1.1;

    const x = (i) => P.l + (cw * i) / (labels.length - 1);
    const y = (v) => P.t + (ch * (maxV - v)) / (maxV - minV);

    ctx.clearRect(0,0,w,h);

    // Grid
    ctx.lineWidth = 1;
    ctx.strokeStyle = "#eef2f7";
    for(let g=0; g<=4; g++){
      const yy = P.t + (ch * g) / 4;
      ctx.beginPath();
      ctx.moveTo(P.l, yy);
      ctx.lineTo(P.l+cw, yy);
      ctx.stroke();
    }

    // Y labels
    ctx.fillStyle = "#6b7280";
    ctx.font = "12px system-ui";
    ctx.fillText(Math.round(maxV) + "00만", 6, P.t + 12);
    ctx.fillText(Math.round(minV) + "00만", 6, P.t + ch);

    // Target line (dashed)
    ctx.setLineDash([6,6]);
    ctx.strokeStyle = "rgba(31,111,178,.45)";
    ctx.lineWidth = 2;
    ctx.beginPath();
    seriesB.forEach((v,i)=> (i===0?ctx.moveTo(x(i),y(v)):ctx.lineTo(x(i),y(v))));
    ctx.stroke();
    ctx.setLineDash([]);

    // Sales line
    ctx.strokeStyle = "#2b7bbb";
    ctx.lineWidth = 3;
    ctx.beginPath();
    seriesA.forEach((v,i)=> (i===0?ctx.moveTo(x(i),y(v)):ctx.lineTo(x(i),y(v))));
    ctx.stroke();

    // Points
    ctx.fillStyle = "#2b7bbb";
    seriesA.forEach((v,i)=>{
      ctx.beginPath();
      ctx.arc(x(i), y(v), 4, 0, Math.PI*2);
      ctx.fill();
    });

    // X labels
    ctx.fillStyle = "#6b7280";
    ctx.font = "12px system-ui";
    labels.forEach((lab,i)=>{
      const xx = x(i);
      const yy = P.t + ch + 24;
      const tw = ctx.measureText(lab).width;
      ctx.fillText(lab, xx - tw/2, yy);
    });
  }

  function render(){
    drawTrend(document.getElementById("trendChart"), months, sales, target);
  }

  render();
  window.addEventListener("resize", render);
</script>

</body>
</html>
