<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ì£¼ë¬¸ê´€ë¦¬ > ì£¼ë¬¸ëª©ë¡</title>

  <!-- í´ë”ì— ë„£ëŠ” ê¸°ì¤€: /order/order_list.html -->
  <link rel="stylesheet" href="../common.css">
  <script defer src="../common.js"></script>

  <style>
    .titlebar{
      background:#1f6fb2;
      color:#fff;
      padding:18px 18px;
      border-radius:14px;
      box-shadow:0 8px 18px rgba(0,0,0,.06);
      margin-bottom:12px;
      font-weight:900;
      letter-spacing:-.2px;
    }
    .titlebar .crumb{ font-size:18px; }

    /* toolbar */
    .toolbar{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      flex-wrap:wrap;
      margin-bottom:10px;
    }
    .toolbar-left{
      display:flex;
      gap:8px;
      align-items:center;
      flex-wrap:wrap;
      width:100%;
    }

    .ctl{
      height:36px;
      border:1px solid #d8dee6;
      border-radius:10px;
      padding:0 10px;
      background:#fff;
      font-size:13px;
      outline:none;
    }
    .date{
      width:130px;
    }

    .searchbox{
      display:flex;
      align-items:center;
      gap:8px;
      border:1px solid #d8dee6;
      border-radius:10px;
      padding:0 10px;
      height:36px;
      background:#fff;
      min-width:380px;
      flex: 1 1 380px;
    }
    .searchbox input{
      border:0;
      outline:0;
      width:100%;
      font-size:13px;
      background:transparent;
    }

    .icon-btn{
      height:36px;
      width:42px;
      border-radius:10px;
      border:1px solid #1f6fb2;
      background:#1f6fb2;
      color:#fff;
      cursor:pointer;
      font-weight:900;
    }
    .icon-btn:hover{ filter:brightness(.95); }

    .btns{
      display:flex;
      gap:8px;
      align-items:center;
      flex-wrap:wrap;
      margin-left:auto;
    }
    .btn{
      height:36px;
      padding:0 14px;
      border-radius:10px;
      font-weight:900;
      font-size:13px;
      cursor:pointer;
      border:1px solid transparent;
      white-space:nowrap;
    }
    .btn.primary{ background:#1f6fb2; color:#fff; border-color:#1f6fb2; }
    .btn.primary:hover{ filter:brightness(.95); }
    .btn.success{ background:#18a058; color:#fff; border-color:#18a058; }
    .btn.success:hover{ filter:brightness(.95); }
    .btn.ghost{ background:#fff; color:#1f6fb2; border-color:#cfe0f5; }
    .btn.ghost:hover{ background:#f6fbff; }

    /* grid */
    .grid-wrap{
      border:1px solid #e6ebf2;
      border-radius:14px;
      overflow:hidden;
      background:#fff;
    }
    table{
      width:100%;
      border-collapse:collapse;
    }
    thead th{
      background:#f7f9fc;
      font-weight:900;
      font-size:13px;
      padding:10px 10px;
      border-bottom:1px solid #eef2f7;
      text-align:left;
      white-space:nowrap;
    }
    tbody td{
      font-size:13px;
      padding:10px 10px;
      border-bottom:1px solid #eef2f7;
      vertical-align:middle;
    }
    tbody tr:hover{ background:#fafcff; }

    .num{ width:92px; white-space:nowrap; }
    .w-ord{ width:360px; }
    .w-company{ width:220px; }
    .w-cust{ width:120px; white-space:nowrap; }
    .w-branch{ width:130px; white-space:nowrap; }
    .w-user{ width:90px; white-space:nowrap; }
    .w-amt{ width:120px; text-align:right; font-variant-numeric: tabular-nums; }
    .w-status{ width:110px; white-space:nowrap; }
    .w-mng{ width:90px; }

    .ord-link{
      color:#1f6fb2;
      text-decoration:none;
      font-weight:900;
    }
    .ord-link:hover{ text-decoration:underline; }
    .desc{
      margin-top:2px;
      color:#4b5563;
      font-size:12px;
      line-height:1.35;
    }

    .badge{
      display:inline-flex;
      align-items:center;
      padding:4px 10px;
      border-radius:999px;
      font-size:12px;
      font-weight:900;
      border:1px solid transparent;
    }
    .b-done{ background:#eef6ff; border-color:#d7e8ff; color:#155a93; }   /* ë°œì†¡ì™„ë£Œ */
    .b-sales{ background:#eafaf0; border-color:#cbeed8; color:#0f7a3e; }  /* ë§¤ì¶œí™•ì • */

    .mng-btn{
      width:28px;
      height:28px;
      border-radius:6px;
      border:1px solid #cfe0f5;
      background:#fff;
      cursor:pointer;
      display:inline-grid;
      place-items:center;
      margin-right:6px;
    }
    .mng-btn:hover{ background:#f6fbff; }
    .empty{
      padding:16px;
      color:#6b7280;
      font-size:13px;
    }

    @media (max-width: 980px){
      .searchbox{ min-width: 240px; }
      .w-ord{ width:auto; }
    }
  </style>
</head>

<body>
<header class="topbar">
  <div class="topbar-inner">
    <div class="brand">
      <div class="logo">â—</div>
      <div>ERP UI</div>
    </div>

    <div id="nav-container"></div>

    <div class="userbox">H.Q / ì•ˆí˜„ëª¨</div>
  </div>
</header>

<main class="app">
  <div class="titlebar">
    <div class="crumb">ì£¼ë¬¸ê´€ë¦¬ &gt; ì£¼ë¬¸ëª©ë¡</div>
  </div>

  <section class="panel">
    <div class="panel-head">
      <div>
        <div class="panel-title">ì£¼ë¬¸ëª©ë¡</div>
      </div>
    </div>

    <div class="panel-body">

      <!-- ì¡°íšŒ ì˜ì—­ -->
      <div class="toolbar">
        <div class="toolbar-left">

          <input class="ctl date" type="date" id="from" value="2026-01-27">
          <input class="ctl date" type="date" id="to" value="2026-02-02">

          <div class="searchbox">
            <input id="q" type="text" placeholder="ì£¼ë¬¸ë²ˆí˜¸, ê³ ê°ëª…, íšŒì‚¬ëª…, ì ‘ìˆ˜ì, ë‹´ë‹¹ì§€ì ìœ¼ë¡œ ê²€ìƒ‰" />
          </div>
          <button class="icon-btn" id="btnSearch" title="ì¡°íšŒ">ğŸ”</button>

          <select class="ctl" id="status">
            <option value="">ì£¼ë¬¸ìƒíƒœ (ì „ì²´)</option>
            <option value="ë°œì†¡ì™„ë£Œ">ë°œì†¡ì™„ë£Œ</option>
            <option value="ë§¤ì¶œë“±ë¡">ë§¤ì¶œë“±ë¡</option>
          </select>

          <div class="btns">
            <button class="btn ghost" id="btnExcel">ì—‘ì…€ë‹¤ìš´ë¡œë“œ</button>
            <!-- âœ… TCPS ì „ì†¡ ë²„íŠ¼ ì œê±° -->
            <button class="btn success" id="btnConfirm">ë§¤ì¶œë“±ë¡</button>
          </div>

        </div>
      </div>

      <!-- ê·¸ë¦¬ë“œ -->
      <div class="grid-wrap">
        <table aria-label="ì£¼ë¬¸ëª©ë¡ ê·¸ë¦¬ë“œ">
          <thead>
            <tr>
              <th class="num">#</th>
              <th class="w-ord">ì£¼ë¬¸ë²ˆí˜¸ / ì œëª©</th>
              <th class="w-company">íšŒì‚¬ëª…</th>
              <th class="w-cust">ê³ ê°ëª…</th>
              <th class="w-branch">ì ‘ìˆ˜ì§€ì </th>
              <th class="w-user">ì ‘ìˆ˜ì</th>
              <th class="w-amt">ê¸ˆì•¡</th>
              <th class="w-status">ìƒíƒœ</th>
              <th class="w-mng" style="text-align:center;">
                <input type="checkbox" id="chkAll" title="ì „ì²´ ì„ íƒ">
              </th>
            </tr>
          </thead>
          <tbody id="tbody">
            <tr><td colspan="9" class="empty">ì¡°ê±´ì„ ì„¤ì •í•œ ë’¤ <b>ì¡°íšŒ</b>ë¥¼ ëˆŒëŸ¬ì£¼ì„¸ìš”.</td></tr>
          </tbody>
        </table>
      </div>

    </div>
  </section>
</main>

<script>
  // ===== ìƒ˜í”Œ ë°ì´í„°(í”„ë¡œí† íƒ€ì…) =====
  const rows = [
    {
      id: 10545525,
      ordno: "O260202-0047-00002",
      title: "[ì„ ì‘ì—…] ì¶œì¥ëŒ€í–‰ë°•ëŒ ë°©ì„ì£¼ë‹˜ ìŠ¤í‹°ì»¤ ë³¸ì‘ì—…",
      company: "ì£¼ì‹íšŒì‚¬ ì¼ë ˆë¸ì½”í¼ë ˆì´ì…˜",
      customer: "ì •ìœ ì§„",
      branch: "ì„œì´ˆë¡œ2íŒŒíŠ¸",
      owner: "ì£¼ì¸ëˆ",
      amount: 168190,
      status: "ë°œì†¡ì™„ë£Œ",
    },
    {
      id: 10545524,
      ordno: "O260202-0042-00002",
      title: "[ë¹„ëŒ€ë©´ì£¼ë¬¸] íŒì—…ì—…ì²´ ì œì‘",
      company: "ì£¼ì‹íšŒì‚¬ ìš°ì•„í•œí˜•ì œë“¤",
      customer: "ê¶Œì•„ëŒ",
      branch: "ê°•ë‚¨íŒŒíŠ¸",
      owner: "ìµœì„±í˜„",
      amount: 15400,
      status: "ë§¤ì¶œí™•ì •",
    },
    {
      id: 10545523,
      ordno: "O260202-0042-00001",
      title: "[ë¹„ëŒ€ë©´ì£¼ë¬¸] í•œì†¥ ë©”ë‰´íŒ, êµë³´ì¬ ì œì‘",
      company: "(ì£¼)í•œì†¥",
      customer: "ë…¸ìŠ¬ê¸°",
      branch: "ê°•ë‚¨íŒŒíŠ¸",
      owner: "ìµœì„±í˜„",
      amount: 493350,
      status: "ë°œì†¡ì™„ë£Œ",
    },
    {
      id: 10545522,
      ordno: "O260202-0044-00001",
      title: "[ì„ ì‘ì—…] ì¶œì¥ëŒ€í–‰ëŒ€ ì œ1ì°¨ ì•„ë™ê¶Œë¦¬ìœ„ì›íšŒ",
      company: "êµ­ê°€ì¸ê¶Œìœ„ì›íšŒ",
      customer: "ì´íš¨ì§„",
      branch: "ì„ì§€ë¡œíŒŒíŠ¸",
      owner: "ì´ì§€ì„­",
      amount: 126000,
      status: "ë§¤ì¶œí™•ì •",
    },
    {
      id: 10545521,
      ordno: "O260202-0040-00001",
      title: "ë©€ë¡œ ìºí”¼íƒˆ ì½”ë¦¬ì•„ ì— ì—”ì”¨ - Monroe | NPS Fund V Finalist Pitc",
      company: "ë©€ë¡œ ìºí”¼íƒˆ ì½”ë¦¬ì•„ ì— ì—”ì”¨",
      customer: "ì´íš¨ì¤€",
      branch: "ì—­ì‚¼1íŒŒíŠ¸",
      owner: "ê¹€ê¸°ì„ ",
      amount: 198000,
      status: "ë§¤ì¶œí™•ì •",
    },
    {
      id: 10545520,
      ordno: "O260202-0047-00001",
      title: "[ì„ ì‘ì—…] ì¶œì¥ì½”ë¦¬ì•„ì„¸ë¸ ê¹€ë‚¨í¬ë‹˜ ì‘ì—…ë¬¼",
      company: "ì£¼ì‹íšŒì‚¬ ì¼ë ˆë¸ì½”í¼ë ˆì´ì…˜",
      customer: "ì •ìœ ì§„",
      branch: "ì„œì´ˆë¡œ2íŒŒíŠ¸",
      owner: "ì£¼ì¸ëˆ",
      amount: 765380,
      status: "ë§¤ì¶œí™•ì •",
    }
  ];

  const tbody = document.getElementById("tbody");
  const qEl = document.getElementById("q");
  const statusEl = document.getElementById("status");
  const btnSearch = document.getElementById("btnSearch");

  const fmt = (n) => n.toLocaleString("ko-KR");

  function badge(status){
    if(status === "ë°œì†¡ì™„ë£Œ") return `<span class="badge b-done">ë°œì†¡ì™„ë£Œ</span>`;
    if(status === "ë§¤ì¶œí™•ì •") return `<span class="badge b-sales">ë§¤ì¶œí™•ì •</span>`;
    return status;
  }

  function render(list){
    tbody.innerHTML = "";

    if(!list.length){
      tbody.innerHTML = `<tr><td colspan="9" class="empty">ì¡°íšŒ ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤.</td></tr>`;
      return;
    }

    list.forEach(r => {
      const tr = document.createElement("tr");
      tr.innerHTML = `
        <td class="num">${r.id}</td>
        <td class="w-ord">
          <a class="ord-link" href="#" onclick="return false;">[${r.ordno}]</a>
          <div class="desc">${r.title}</div>
        </td>
        <td class="w-company">${r.company}</td>
        <td class="w-cust">${r.customer}</td>
        <td class="w-branch">${r.branch}</td>
        <td class="w-user">${r.owner}</td>
        <td class="w-amt">${fmt(r.amount)}</td>
        <td class="w-status">${badge(r.status)}</td>
        <td class="w-mng" style="text-align:center;">
          <input type="checkbox" class="rowChk" data-id="${r.id}">
        </td>
      `;
      tbody.appendChild(tr);
    });
  }

  function doSearch(){
    const q = qEl.value.trim().toLowerCase();
    const st = statusEl.value;

    let list = rows.slice();

    if(st){
      list = list.filter(r => r.status === st);
    }
    if(q){
      list = list.filter(r => {
        const hay = `${r.ordno} ${r.title} ${r.company} ${r.customer} ${r.branch} ${r.owner}`.toLowerCase();
        return hay.includes(q);
      });
    }
    render(list);
  }

  const chkAll = document.getElementById("chkAll");

function bindCheckAll(){
  if(!chkAll) return;

  chkAll.onchange = () => {
    document.querySelectorAll(".rowChk").forEach(chk => {
      chk.checked = chkAll.checked;
    });
  };
}

function syncCheckAllState(){
  const checks = [...document.querySelectorAll(".rowChk")];
  if(!checks.length || !chkAll) return;
  const allChecked = checks.every(c => c.checked);
  const anyChecked = checks.some(c => c.checked);

  chkAll.indeterminate = anyChecked && !allChecked;
  chkAll.checked = allChecked;
}


  btnSearch.addEventListener("click", doSearch);
  qEl.addEventListener("keydown", (e)=>{ if(e.key==="Enter") doSearch(); });
  statusEl.addEventListener("change", doSearch);

  // ë²„íŠ¼ë“¤(í”„ë¡œí† íƒ€ì…)
  document.getElementById("btnExcel").addEventListener("click", ()=> alert("í”„ë¡œí† íƒ€ì…: ì—‘ì…€ ë‹¤ìš´ë¡œë“œ(ë¯¸ì •)"));
  document.getElementById("btnConfirm").addEventListener("click", ()=> alert("í”„ë¡œí† íƒ€ì…: ë§¤ì¶œí™•ì • ì²˜ë¦¬(ë¯¸ì •)"));

  bindCheckAll();

  document.querySelectorAll(".rowChk").forEach(chk => {
    chk.addEventListener("change", syncCheckAllState);
  });
  syncCheckAllState();

</script>
</body>
</html>
